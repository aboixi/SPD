<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">
                
    <ui:define name="title">SimpleSPD-Expedient Assistencial</ui:define>

    <ui:define name="content">
		<div class="ui-g ui-fluid">  
       		<div class="ui-g-12">
       			<div class="card card-w-title">	
       				<h1>Pacient</h1>
                	<h:form>
 					<p:messages showDetail="true" showSummary="false" autoUpdate="true" closable="false" />              
						<h:panelGrid columns="6" layout="grid" styleClass="ui-panelgrid-blank form-group">
							<h:outputLabel value="Nom: " />
				            <h:outputText value="#{consultarExpedient.pacient.cognom1}"/>		
							<h:outputLabel value=" "/>
				            <h:outputText value="#{consultarExpedient.pacient.cognom2}"/>
				            <h:outputText value=", "/>
				            <h:outputText value="#{consultarExpedient.pacient.nom}"/>
				        </h:panelGrid> 
					</h:form>
                	<h1>Expedient Assistencial</h1>
                  	<h:form id="formulariModificarExpedient">
							<p:dataTable id="llistaExpedients" var="item" value="#{consultarExpedient.tractaments}" editable="true" selectionMode="single" selection="#{eliminarTractament.tractament}" rowKey="#{item.idTractament}">
 							<f:facet name="header">
 								Tractaments
 							</f:facet>			
								<p:column style="width:8%;text-align: center" headerText="Inici">
       								<p:cellEditor>
			                   			<f:facet name="output"><h:outputText value="#{item.dataInici}" style="width:100%;text-align: center"/></f:facet>
			                    		<f:facet name="input"><p:inputText value="#{item.dataInici}"/></f:facet>
			                    	</p:cellEditor>
			                    </p:column>
	                            
	                            <p:column style="width:6%;text-align: center" headerText="CN">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><h:outputText value="#{item.medicament.cn}" style="width:100%;text-align: center"/></f:facet>	 
	                            		<f:facet name="input"><p:inputText value="#{item.medicament.cn}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            
	                            <p:column style="width:42%;text-align: left" headerText="Nom Comercial"><h:outputText value="#{item.medicament.nomComercial}" style="width:100px;margin-left: 10px; margin-right: 8px"/></p:column>
	                            
	                            <p:column style="width:5%;text-align: center" headerText="Unitats">
	                           		<p:cellEditor>
	                           			<f:facet name="output"><h:outputText value="#{item.quantEntera}" style="width:100%"/></f:facet>
	                            		<f:facet name="input">                            		
				                            <p:selectOneMenu id="ntquant11" value="#{item.quantEntera}">
				                            <f:selectItem itemLabel="0" itemValue="0" />
				                            <f:selectItem itemLabel="1" itemValue="1" />
				                            <f:selectItem itemLabel="2" itemValue="2" />
				                            <f:selectItem itemLabel="3" itemValue="3" />
				                            <f:selectItem itemLabel="4" itemValue="4" />
				                            <f:selectItem itemLabel="5" itemValue="5" />
				                            <f:selectItem itemLabel="6" itemValue="6" />
				                       		</p:selectOneMenu>
										</f:facet>
									</p:cellEditor>                  		
	                       		</p:column>
	                       		
	                            <p:column style="width:5%;text-align: center" headerText="Fracció">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><h:outputText value="#{item.quantFraccio}" style="width:100%"/></f:facet>
	                            		<f:facet name="input">  
	                            			<p:selectOneMenu id="ntquant12" value="#{item.quantFraccio}">
				                            <f:selectItem itemLabel="0" itemValue="0" />
				                            <f:selectItem itemLabel="1/2" itemValue="1/2" />
				                            <f:selectItem itemLabel="1/3" itemValue="1/3" />
				                            <f:selectItem itemLabel="1/4" itemValue="1/4" />
				                       		</p:selectOneMenu>
	                           			 </f:facet>
									</p:cellEditor>
	                       		</p:column>
	                       		                            
	                           <p:column style="text-align: center;width:5%" headerText="Matí">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.esmorcar}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.esmorcar}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:5%" headerText="Dinar">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dinar}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dinar}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:5%" headerText="Sopar">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.sopar}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.sopar}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:5%" headerText="Nit">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dormir}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dormir}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="I">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dilluns}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dilluns}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="II">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dimarts}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dimarts}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="III">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dimecres}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dimecres}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="IV">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dijous}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dijous}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="V">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.divendres}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.divendres}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="VI">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.dissabte}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.dissabte}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
	                            <p:column style="text-align: center;width:2%" headerText="VII">
	                            	<p:cellEditor>
	                            		<f:facet name="output"><p:selectBooleanCheckbox value="#{item.diumenge}" disabled="true"/></f:facet>	 
	                            		<f:facet name="input"><p:selectBooleanCheckbox value="#{item.diumenge}"/></f:facet>	                            
	                            	</p:cellEditor>
	                            </p:column>
							</p:dataTable>
							<h:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group">
	            				<p:commandButton id="boto" actionListener="#{eliminarTractament.eliminarTractament}" action="#{consultarExpedient.consultarTractaments}" value="Eliminar" icon="fa fa-minus-circle" update="formulariModificarExpedient" styleClass="raised-btn"/>
        					</h:panelGrid>
	            		</h:form>
            	</div>
			</div>
			<div class="ui-g-12 ui-lg-6">
       			<div class="card card-w-title">	
                	<h2>Nou Tractament</h2>
						<h:form id="formulariNouTractament">
							 <h:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group">
								<h:outputText value="Data d'inici: " />
								<p:calendar id="inici" value="#{agregarTractament.dataInici}" required="true"
								requiredMessage="Falta la data d'inici del tractament"/>
								<h:outputText value="CN: " />
								<h:outputText id="cn" value="#{agregarTractament.cn}" required="true" editable="false"/>
								<h:outputText value="Nom: " />
								<h:outputText id="nom" value="#{agregarTractament.nomComercial}" required="true" editable="false"/>
							</h:panelGrid>
							<h:panelGrid columns="6" layout="grid" styleClass="ui-panelgrid-blank form-group">
							<h:outputText value="Unitats: " />
								<p:selectOneMenu id="unitats" value="#{agregarTractament.qEntera}">
				                            <f:selectItem itemLabel="0" itemValue="0" />
				                            <f:selectItem itemLabel="1" itemValue="1" />
				                            <f:selectItem itemLabel="2" itemValue="2" />
				                            <f:selectItem itemLabel="3" itemValue="3" />
				                            <f:selectItem itemLabel="4" itemValue="4" />
				                            <f:selectItem itemLabel="5" itemValue="5" />
				                            <f:selectItem itemLabel="6" itemValue="6" />
				                </p:selectOneMenu>
				                <h:outputText value="Fracció: " />
								<p:selectOneMenu id="fraccio" value="#{agregarTractament.qFraccio}">
				                            <f:selectItem itemLabel="0" itemValue="0" />
				                            <f:selectItem itemLabel="1/2" itemValue="1/2" />
				                            <f:selectItem itemLabel="1/3" itemValue="1/3" />
				                            <f:selectItem itemLabel="1/4" itemValue="1/4" />
				                </p:selectOneMenu>				       
				            </h:panelGrid>
				            <h:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group">
				            	<h:outputLabel for="forablister" value="Fora de blíster " />
				            	<p:inputSwitch id="forablister" value="#{agregarTractament.foraBlister}"/>
							</h:panelGrid>
							<h:panelGrid columns="8" layout="grid" styleClass="ui-panelgrid-blank form-group">
								<p:commandButton type="button" icon="fa fa-coffee" styleClass="blue-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.esmorcar}"/>
								<p:commandButton type="button" icon="fa fa-sun-o" styleClass="blue-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dinar}"/>
								<p:commandButton type="button" icon="fa fa-cutlery" styleClass="blue-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.sopar}"/>
								<p:commandButton type="button" icon="fa fa-bed" styleClass="blue-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dormir}"/>
							</h:panelGrid>
							<h:panelGrid columns="15" layout="grid" styleClass="ui-panelgrid-blank form-group">
								<p:commandButton type="button" value="Dill" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dill}"/>
								<p:commandButton type="button" value="Dim" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dima}"/>
								<p:commandButton type="button" value="Dim" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dime}"/>
								<p:commandButton type="button" value="Dij" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dijo}"/>
								<p:commandButton type="button" value="Div" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dive}"/>
								<p:commandButton type="button" value="Dis" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.diss}"/>
								<p:commandButton type="button" value="Diu" styleClass="yellow-btn" style="width:35px"/>
								<p:selectBooleanCheckbox value="#{agregarTractament.dium}" default="true" />
								<p:commandButton id="botoMarcarDies" value="Tots" actionListener="#{agregarTractament.marcaTotsDies}" icon="fa fa-check-square-o" update="formulariNouTractament" styleClass="orange-btn raised-btn">
								</p:commandButton>
								<p>
																
								</p>
							</h:panelGrid>
							<h:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group">
	            				<p:commandButton id="boto" actionListener="#{agregarTractament.agregarTractament}" action="#{consultarExpedient.consultarTractaments}" value="Agregar" icon="fa fa-minus-circle" update="formulariModificarExpedient" styleClass="raised-btn"/>
        					</h:panelGrid>
						</h:form>
            		</div>
				</div>
				<div class="ui-g-12 ui-lg-6">
                	<div class="card card-w-title">
                	<h1>Buscar Medicament</h1>
                  		<h:form id="formulariBuscarMedicament">
                  			<h:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank form-group">						
								<h:outputLabel value="Paraula clau: " />
				            	<p:inputText value="#{buscarMedicament.paraula}" />
                  				<p:commandButton actionListener="#{buscarMedicament.buscarMedicament}" value="Buscar" icon="fa fa-search" update="formulariBuscarMedicament" styleClass="raised-btn"/>
                  			</h:panelGrid>  
                  			<p:dataTable id="llistaMedicaments" var="item" value="#{buscarMedicament.medicaments}" selectionMode="single" selection="#{buscarMedicament.medicament}" rowKey="#{item.cn}" rows="5"  paginator="true">
                  			<p:ajax event="rowSelect" listener="#{buscarMedicament.copiarMedicament}" update="formulariNouTractament"/>
               					<p:column headerText="CN" style="width:10%">
						        <h:outputText value="#{item.cn}" />
						    	</p:column>
						    
						    	<p:column headerText="Nom" style="width:90%">
						        <h:outputText value="#{item.nomComercial}" />
						    	</p:column>
						    </p:dataTable>
                  		</h:form>
					</div>
				</div>
			</div>
    </ui:define>
</ui:composition>